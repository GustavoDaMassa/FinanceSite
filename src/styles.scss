// =============================================================================
// ANGULAR MATERIAL THEME
// =============================================================================
// O Material 3 usa o mixin mat.theme() para gerar CSS variables que controlam
// a aparencia de todos os componentes (botoes, inputs, cards, etc.).
// Definimos o tema base aqui e alternamos dark/light via color-scheme.
@use '@angular/material' as mat;

// Tema base — cores primarias inspiradas no GitHub
// primary: verde (#238636) para acoes principais (botoes, links ativos)
// tertiary: azul (#1f6feb) para destaques secundarios
html {
  height: 100%;

  // Tema light (padrao)
  &[data-theme='light'] {
    color-scheme: light;
    @include mat.theme((
      color: (
        primary: mat.$green-palette,
        tertiary: mat.$blue-palette,
      ),
      typography: Roboto,
      density: 0,
    ));
  }

  // Tema dark
  &[data-theme='dark'] {
    color-scheme: dark;
    @include mat.theme((
      color: (
        primary: mat.$green-palette,
        tertiary: mat.$blue-palette,
      ),
      typography: Roboto,
      density: 0,
    ));
  }
}

// =============================================================================
// CSS CUSTOM PROPERTIES — GITHUB COLOR SYSTEM
// =============================================================================
// Por que CSS variables? Porque podemos trocar todas as cores da app mudando
// apenas o atributo data-theme, sem recarregar. Cada componente lê essas
// variáveis em vez de cores hardcoded.

html[data-theme='light'] {
  // Superficies
  --color-bg-primary: #ffffff;
  --color-bg-secondary: #f6f8fa;
  --color-bg-tertiary: #eaeef2;
  --color-bg-overlay: rgba(27, 31, 36, 0.5);

  // Bordas
  --color-border-primary: #d0d7de;
  --color-border-secondary: #e1e4e8;

  // Texto
  --color-text-primary: #1f2328;
  --color-text-secondary: #656d76;
  --color-text-tertiary: #6e7781;
  --color-text-link: #0969da;
  --color-text-inverse: #ffffff;

  // Accent — acoes e status
  --color-accent-primary: #238636;
  --color-accent-hover: #2ea043;
  --color-accent-blue: #1f6feb;
  --color-accent-blue-hover: #388bfd;

  // Semantico financeiro
  --color-inflow: #238636;
  --color-outflow: #cf222e;
  --color-balance: #1f6feb;

  // Feedback
  --color-success: #238636;
  --color-error: #cf222e;
  --color-warning: #9a6700;

  // Sombras
  --color-shadow: rgba(31, 35, 40, 0.12);
  --shadow-sm: 0 1px 0 var(--color-shadow);
  --shadow-md: 0 3px 6px var(--color-shadow);
  --shadow-lg: 0 8px 24px var(--color-shadow);

  // Header
  --color-header-bg: #f6f8fa;
  --color-header-border: #d0d7de;

  // Sidebar
  --color-sidebar-bg: #ffffff;
}

html[data-theme='dark'] {
  // Superficies
  --color-bg-primary: #0d1117;
  --color-bg-secondary: #161b22;
  --color-bg-tertiary: #21262d;
  --color-bg-overlay: rgba(1, 4, 9, 0.8);

  // Bordas
  --color-border-primary: #30363d;
  --color-border-secondary: #21262d;

  // Texto
  --color-text-primary: #e6edf3;
  --color-text-secondary: #8b949e;
  --color-text-tertiary: #6e7681;
  --color-text-link: #58a6ff;
  --color-text-inverse: #0d1117;

  // Accent
  --color-accent-primary: #238636;
  --color-accent-hover: #2ea043;
  --color-accent-blue: #1f6feb;
  --color-accent-blue-hover: #388bfd;

  // Semantico financeiro
  --color-inflow: #3fb950;
  --color-outflow: #f85149;
  --color-balance: #58a6ff;

  // Feedback
  --color-success: #3fb950;
  --color-error: #f85149;
  --color-warning: #d29922;

  // Sombras
  --color-shadow: rgba(0, 0, 0, 0.3);
  --shadow-sm: 0 1px 0 var(--color-shadow);
  --shadow-md: 0 3px 6px var(--color-shadow);
  --shadow-lg: 0 8px 24px var(--color-shadow);

  // Header
  --color-header-bg: #161b22;
  --color-header-border: #30363d;

  // Sidebar
  --color-sidebar-bg: #0d1117;
}

// =============================================================================
// DESIGN TOKENS — SPACING, RADIUS, TRANSITIONS
// =============================================================================
// Tokens fixos que nao mudam entre temas (como constantes no Java)
:root {
  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;
  --spacing-2xl: 48px;

  --radius-sm: 6px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-round: 100px;

  --transition-fast: all 0.15s ease;
  --transition-base: all 0.2s ease;
  --transition-slow: all 0.3s ease;

  --font-size-xs: 12px;
  --font-size-sm: 14px;
  --font-size-md: 16px;
  --font-size-lg: 20px;
  --font-size-xl: 24px;
  --font-size-2xl: 32px;
}

// =============================================================================
// GLOBAL STYLES
// =============================================================================
body {
  background-color: var(--color-bg-primary);
  color: var(--color-text-primary);
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans',
    Helvetica, Arial, sans-serif;
  font-size: var(--font-size-sm);
  line-height: 1.5;
  margin: 0;
  height: 100%;
  transition: var(--transition-base);
}

a {
  color: var(--color-text-link);
  text-decoration: none;

  &:hover {
    text-decoration: underline;
  }
}

// =============================================================================
// SCROLLBAR — estilo GitHub
// =============================================================================
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background-color: var(--color-border-primary);
  border-radius: var(--radius-round);
}

// =============================================================================
// MATERIAL OVERRIDES — SNACKBAR
// =============================================================================
.success-snackbar {
  --mdc-snackbar-container-color: var(--color-success);
  --mdc-snackbar-supporting-text-color: #ffffff;
}

.error-snackbar {
  --mdc-snackbar-container-color: var(--color-error);
  --mdc-snackbar-supporting-text-color: #ffffff;
}

// =============================================================================
// UTILITY CLASSES
// =============================================================================
.text-inflow {
  color: var(--color-inflow);
}

.text-outflow {
  color: var(--color-outflow);
}

.text-balance {
  color: var(--color-balance);
}

.text-secondary {
  color: var(--color-text-secondary);
}

.text-center {
  text-align: center;
}

.mt-sm { margin-top: var(--spacing-sm); }
.mt-md { margin-top: var(--spacing-md); }
.mt-lg { margin-top: var(--spacing-lg); }
.mb-sm { margin-bottom: var(--spacing-sm); }
.mb-md { margin-bottom: var(--spacing-md); }
.mb-lg { margin-bottom: var(--spacing-lg); }
